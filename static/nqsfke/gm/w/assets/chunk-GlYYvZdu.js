import{C as e,r as l,b as a,D as s,P as t,G as o,V as u,W as i,L as n,Z as c,J as r,a6 as p,Q as x,X as f,$ as m,T as v,E as d}from"./chunk-DPRUGDB1.js";/* empty css              */import{u as h}from"./chunk-CnMin4v-.js";import{S as k}from"./ht-DIEl3wcJ.js";import{u as w}from"./chunk-B2xzK06Q.js";import{O as j}from"./chunk-DHZ4SDa9.js";import{s as b,c as y}from"./chunk-B6RrTHmg.js";import"./chunk-DWTGLlOg.js";import"./chunk-Cd8018WW.js";import"./chunk-CMQyd8eO.js";import"./chunk-a7obrEbD.js";import"./chunk-DQhVL27x.js";import"./chunk-cn7T4ICr.js";import"./chunk-Bh3yC0yB.js";import"./chunk-DjdYu-xF.js";import"./chunk-BHPWSuhB.js";import"./chunk-Xpcu2h2O.js";import"./chunk-fUqY2CL3.js";import"./chunk-B9m9zD55.js";const _={key:0,class:"flex h-full w-full flex-col bg-white"},g={class:"flex flex-row px-[15px] justify-between space-x-1"},C={class:"flex items-center space-x-2 cursor-pointer"},R=["value"],z={class:"w-full px-[15px] mt-[15px]"},D={class:"absolute top-0 left-0"},V=e({__name:"FeedbackDialog",emits:["clickClose"],setup(e,{expose:V,emit:q}){const E=l("pointer-events-none"),F=l(!1),O=q,S=l(),T=l(),U=l(!1),A=()=>{F.value=!1,E.value="pointer-events-none",O("clickClose")},B=h();a(()=>{});const G=["内容报错","资源找片","意见反馈","其他"],I=l("意见反馈"),J=l("");async function L(){var e,l;if(k.isEmpty(J.value.trim()))return void(null==(e=T.value)||e.show("留言内容不能为空","提交失败",!0));b({duration:0,message:"正在提交",forbidClick:!1});let a=await w().reqFeedback(I.value,J.value);y(),a&&(U.value=!0,I.value="意见反馈",J.value="",null==(l=T.value)||l.show("小编会尽快审核您提交的内容，感谢您的支持~!","提交成功"),setTimeout(()=>{A()},1800))}return V({show:()=>{U.value=!1,E.value="",F.value=!0,B.resetData(),B.reqBuyRecord()},hide:A}),(e,l)=>(d(),s(n,null,[t("div",{class:x(["fixed z-[2000] top-[0px] bottom-[56px] flex h-full w-full flex-col max-w-[540px]",E.value])},[o(v,{"enter-active-class":"animate__animated animate__slideInRight","leave-active-class":"animate__animated animate__slideOutRight",style:{"animation-duration":"0.3s"}},{default:u(()=>[F.value?(d(),s("div",_,[t("div",{class:"w-full flex flex-row items-center justify-between py-3"},[l[3]||(l[3]=t("p",{class:"text-black text-[18px] ml-[15px] font-bold"},"我要留言",-1)),t("i",{class:"ml-1 iconfont icon-close1 text-gray-400 flex items-center justify-center mr-[15px]",style:{"font-size":"25px"},onClick:A})]),l[4]||(l[4]=t("div",{class:"w-full h-[1px] bg-gray-200"},null,-1)),t("div",{class:"w-full overflow-y-auto flex flex-col pt-[15px] pb-[15px]",ref_key:"scrollContainer",ref:S,onScroll:l[2]||(l[2]=()=>{})},[t("div",g,[(d(),s(n,null,c(G,e=>t("label",C,[r(t("input",{type:"radio",value:e,"onUpdate:modelValue":l[0]||(l[0]=e=>I.value=e),class:"w-4"},null,8,R),[[p,I.value]]),t("span",{class:x(["text-[14px]",I.value===e?"text-black":"text-gray-400"])},f(e),3)])),64))]),t("div",z,[r(t("textarea",{"onUpdate:modelValue":l[1]||(l[1]=e=>J.value=e),placeholder:"请输入您宝贵的意见建议~",rows:"5",class:"w-full border rounded-[4px] py-[6px] px-[12px] text-[14px] text-black bg-white"},null,512),[[m,J.value]])]),t("div",{class:"w-full px-[15px] mt-[15px]"},[t("button",{onClick:L,class:"w-full h-[40px] rounded-[4px] bg-[#0ea9ff] text-white shrink-0"},"提交")])],544)])):i("",!0)]),_:1})],2),t("div",D,[o(j,{ref_key:"tipRef",ref:T},null,512)])],64))}});export{V as default};
