import{d as e}from"./chunk-DWTGLlOg.js";import{r as a,A as l,i as u}from"./ht-DIEl3wcJ.js";import{r as t}from"./chunk-DPRUGDB1.js";const o=e("Record",()=>{const e=t([]),o=t([]),c=t([]),n=t(1),r=t(1),v=t(!1),s=t(!0);return{collectRecords:e,buyRecords:o,orderRecords:c,isLoading:v,pageNo:n,totalPage:r,resetData:function(){v.value=!1,n.value=1,r.value=1,s.value=!0,e.value=[],o.value=[],c.value=[]},reqCollectRecord:async function(){if(v.value||!s.value)return;v.value=!0,r.value=1;const t={pageNo:n.value-1,pageSize:12};let o=await a(l.getCollects,t);if(u(o.code)){const a=o.data.collectList;s.value=a.length>=12,a.length>0&&(n.value=n.value+1,e.value.push(...a))}v.value=!1},reqCancelCollect:async function(t){r.value=1;const o={contentId:e.value[t].contentId,collect:0};let c=await a(l.collect,o);u(c.code)&&e.value.splice(t,1)},reqBuyRecord:async function(){if(v.value||!s.value)return;v.value=!0,r.value=1;const e={pageNo:n.value-1,pageSize:12};let t=await a(l.queryBuyVideo,e);if(u(t.code)){const e=t.data.buyVideoList;s.value=e.length>=12,e.length>0&&(n.value=n.value+1,o.value.push(...e))}v.value=!1},reqRechargeRecord:async function(){if(v.value||!s.value)return;v.value=!0,r.value=1;const e={pageNo:n.value-1,pageSize:12};let t=await a(l.queryOrderList,e);if(u(t.code)){const e=t.data.rechargeOrderList;s.value=e.length>=12,e.length>0&&(n.value=n.value+1,c.value.push(...e))}v.value=!1}}});export{o as u};
